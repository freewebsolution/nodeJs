(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{108:function(e,t,n){},196:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(8),o=n.n(i),r=(n(85),n(37)),s=n(11),l=(n(86),n(22)),u=n.n(l),d=n(4),j=function(e){var t=e.nota,n=e.toggleImportance,a=e.deleteNote,c=u()(t.giorno).format("DD/MM/yyyy");return Object(d.jsxs)("li",{className:"collection-item",style:{borderBottom:"1px solid #dadada"},children:[Object(d.jsxs)("span",{className:"title",children:[Object(d.jsx)("span",{style:{textTransform:"capitalize"},children:t.tema})," il giorno ",Object(d.jsx)("span",{style:{color:"red"},children:c})," alle ore ",Object(d.jsx)("span",{style:{color:"orange"},children:t.ora})," "]}),Object(d.jsxs)("span",{className:"secondary-content",children:[Object(d.jsx)("button",{className:"waves-effect waves-light btn-small ",onClick:n,children:t.important?"not important":Object(d.jsx)("i",{className:"material-icons",children:"grade"})}),Object(d.jsxs)("button",{onClick:a,style:{marginLeft:"5px"},className:"btn-floating btn-small waves-effect waves-light red",children:[" ",Object(d.jsx)("i",{className:"material-icons",children:"delete"})]})]})]})},m=n(17),f=n.n(m),b="/api/notes",p={getAll:function(){return f.a.get(b)},create:function(e){return f.a.post(b,e)},update:function(e,t){return f.a.put("".concat(b,"/").concat(e),t)},elimina:function(e){return f.a.delete("".concat(b,"/").concat(e))}},h=n(74),g=n.n(h),x=(n(107),n(225)),O=(n(108),function(e){var t=e.message;return null===t?null:Object(d.jsx)("div",{style:{color:"red",backgroundColor:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},children:t})}),v=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],i=n[1],o=Object(a.useState)(""),l=Object(s.a)(o,2),m=l[0],f=l[1],b=Object(a.useState)(""),h=Object(s.a)(b,2),v=h[0],N=h[1],y=Object(a.useState)(""),w=Object(s.a)(y,2),S=w[0],C=w[1],D=Object(a.useState)(!0),k=Object(s.a)(D,2),F=k[0],I=k[1],M=Object(a.useState)("null"),T=Object(s.a)(M,2),_=T[0],L=T[1];Object(a.useEffect)((function(){p.getAll().then((function(e){i(e.data.sort((function(e,t){return t.giorno>e.giorno?-1:1})))}))}),[]);var B=F?c:c.filter((function(e){return e.important}));return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{children:"Note"}),Object(d.jsx)(O,{message:_}),Object(d.jsxs)("button",{className:"waves-effect waves-light btn-small",onClick:function(){return I(!F)},children:["show ",F?"important":"all"]}),Object(d.jsx)("ul",{className:"collection",children:B.map((function(e){return Object(d.jsx)(j,{nota:e,toggleImportance:function(){return function(e){var t=c.find((function(t){return t.id===e})),n=Object(r.a)(Object(r.a)({},t),{},{important:!t.important});p.update(e,n).then((function(t){i(c.map((function(n){return n.id!==e?n:t.data})))})).catch((function(n){L("Nota '".concat(t.tema,"' \xe8 stata rimossa dal server")),setTimeout((function(){L(null)}),5e3),i(c.filter((function(t){return t.id!==e})))}))}(e.id)},deleteNote:function(){return t=e.id,n=e.tema,void(!1!==window.confirm("Sicuro di voler cancellare la nota  ".concat(n," ?"))&&(c.filter((function(e){return e.id===t})),p.elimina(t).then((function(){i(c.filter((function(e){return e.id!==t})))}))));var t,n}},e.id)}))}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={tema:m,giorno:v,ora:S,data:(new Date).toISOString(),important:Math.random()<.5};p.create(t).then((function(e){i(c.concat(e.data).sort((function(e,t){return new Date(e.giorno)-new Date(t.giorno)}))),f(""),N(""),C("")}))},className:"col s12",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"input-field col s6",children:[Object(d.jsx)("i",{className:"material-icons prefix",children:"chat"}),Object(d.jsx)("input",{id:"icon_prefix",type:"text",className:"validate",name:"tema",onChange:function(e){f(e.target.value)},value:m,required:!0}),Object(d.jsx)("label",{htmlFor:"icon_prefix",children:"Aggiungi nota..."})]}),Object(d.jsx)("div",{className:"col s3",children:Object(d.jsxs)("div",{style:{marginTop:"16px"},children:[Object(d.jsx)("i",{className:"material-icons prefix",style:{marginRight:"5px"},children:"date_range"}),Object(d.jsx)(g.a,{autoComplete:"off",selected:v,onChange:function(e){N(e)},id:"icon_prefix",className:"validate",dateFormat:"dd/MM/yyyy",style:{marginLeft:"5px"},minDate:u()().toDate(),required:!0,placeholderText:"Data..."})]})}),Object(d.jsx)("div",{className:"col s3",children:Object(d.jsx)(x.a,{onChange:function(e){C(e.target.value)},value:S,required:!0,id:"time",label:"Ora...",type:"time",InputLabelProps:{shrink:!0},inputProps:{step:300}})})]}),Object(d.jsx)("button",{className:"btn-floating  waves-effect waves-light green",type:"submit",children:Object(d.jsx)("i",{className:"material-icons",children:"add_to_photos"})})]})})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,226)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),i(e),o(e)}))};o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root")),N()},85:function(e,t,n){},86:function(e,t,n){}},[[196,1,2]]]);
//# sourceMappingURL=main.dca8e76d.chunk.js.map