(this.webpackJsonpnote=this.webpackJsonpnote||[]).push([[0],{200:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(8),o=n.n(i),r=(n(90),n(38)),s=n(11),l=(n(91),n(23)),u=n.n(l),d=n(4),j=function(e){var t=e.nota,n=e.toggleImportance,a=e.deleteNota,c=u()(t.giorno).format("DD/MM/yyyy");return Object(d.jsxs)("li",{className:"collection-item",style:{borderBottom:"1px solid #dadada"},children:[Object(d.jsxs)("span",{className:"title",children:[t.tema," il giorno ",Object(d.jsx)("span",{style:{color:"red"},children:c})," alle ore ",Object(d.jsx)("span",{style:{color:"orange"},children:t.ora})]}),Object(d.jsxs)("span",{className:"secondary-content",children:[Object(d.jsx)("button",{className:"waves-effect waves-light btn-small ",onClick:n,children:t.important?"not important":Object(d.jsx)("i",{className:"material-icons",children:"grade"})}),Object(d.jsxs)("button",{onClick:a,style:{marginLeft:"5px"},className:"btn-floating btn-small waves-effect waves-light red",children:[" ",Object(d.jsx)("i",{className:"material-icons",children:"delete"})]})]})]})},m=n(18),b=n.n(m),f="/api/notes",g={getAll:function(){return b.a.get(f)},create:function(e){return b.a.post(f,e)},update:function(e,t){return b.a.put("".concat(f,"/").concat(e),t)},elimina:function(e){return b.a.delete("".concat(f,"/").concat(e))}},h=n(78),p=n.n(h),O=n(229),x=(n(112),function(e){var t=e.message;return null===t?null:Object(d.jsx)("div",{style:{color:"red",backgroundColor:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},children:t})}),v=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],i=n[1],o=Object(a.useState)(""),l=Object(s.a)(o,2),m=l[0],b=l[1],f=Object(a.useState)(""),h=Object(s.a)(f,2),v=h[0],N=h[1],y=Object(a.useState)(""),w=Object(s.a)(y,2),S=w[0],C=w[1],D=Object(a.useState)(!0),k=Object(s.a)(D,2),I=k[0],F=k[1],M=Object(a.useState)("Inserisci qui error..."),_=Object(s.a)(M,2),L=_[0],q=_[1];Object(a.useEffect)((function(){g.getAll().then((function(e){i(e.data.sort((function(e,t){return t.giorno>e.giorno?-1:1})))}))}),[]),console.log("render",c.length,"note");var B=I?c:c.filter((function(e){return e.important}));return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{children:"Note"}),Object(d.jsx)(x,{message:L}),Object(d.jsxs)("button",{className:"waves-effect waves-light btn-small",onClick:function(){return F(!I)},children:["show ",I?"important":"all"]}),Object(d.jsx)("ul",{className:"collection",children:B.map((function(e){return Object(d.jsx)(j,{nota:e,toggleImportance:function(){return function(e){var t=c.find((function(t){return t.id===e})),n=Object(r.a)(Object(r.a)({},t),{},{important:!t.important});g.update(e,n).then((function(t){i(c.map((function(n){return n.id!==e?n:t.data})))})).catch((function(e){q("La nota '".concat(t.tema,"' \xe8 stata rimossa dalla lista")),setTimeout((function(){q(null)}),5e3)}))}(e.id)},deleteNota:function(){return t=e.id,n=e.tema,void(!1!==window.confirm("Sicuro di voler eliminare la nota ".concat(n," ? "))&&(c.filter((function(e){return e.id===t})),g.elimina(t).then((function(){i(c.filter((function(e){return e.id!==t})))}))));var t,n}},e.id)}))}),Object(d.jsx)("div",{className:"row",children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={tema:m,giorno:v,ora:S,data:(new Date).toISOString(),important:Math.random()<.5,id:c.lenght+1};g.create(t).then((function(e){i(c.concat(e.data).sort((function(e,t){return new Date(e.giorno)-new Date(t.giorno)}))),b(""),N(""),C("")}))},className:"col s12",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"input-field col s6",children:[Object(d.jsx)("i",{className:"material-icons prefix",children:"chat"}),Object(d.jsx)("input",{id:"icon_prefix",type:"text",className:"validate",name:"tema",onChange:function(e){console.log(e.target.value),b(e.target.value)},value:m,required:!0}),Object(d.jsx)("label",{htmlFor:"icon_prefix",children:"Aggiungi nota..."})]}),Object(d.jsx)("div",{className:"col s3",children:Object(d.jsxs)("div",{style:{marginTop:"16px"},children:[Object(d.jsx)("i",{className:"material-icons prefix",style:{marginRight:"5px"},children:"date_range"}),Object(d.jsx)(p.a,{autoComplete:"off",selected:v,onChange:function(e){N(e)},className:"validate",id:"icon_prefix",minDate:u()().toDate(),dateFormat:"dd/MM/yyyy",required:!0})]})}),Object(d.jsx)("div",{className:"col s3",children:Object(d.jsx)(O.a,{id:"time",onChange:function(e){console.log(e.target.value),C(e.target.value)},value:S,label:"Ora...",type:"time",required:!0,InputLabelProps:{shrink:!0},inputProps:{step:300}})})]}),Object(d.jsx)("button",{className:"btn-floating  waves-effect waves-light green",type:"submit",children:Object(d.jsx)("i",{className:"material-icons",children:"add_to_photos"})})]})})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,230)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),i(e),o(e)}))};o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(v,{})}),document.getElementById("root")),N()},90:function(e,t,n){},91:function(e,t,n){}},[[200,1,2]]]);
//# sourceMappingURL=main.31c7747d.chunk.js.map